<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>watson-speech 0.15.1</h3>










    




    <section>
        <article><h1>IBM Watson Speech Services for Web Browsers</h1><p><a href="https://travis-ci.org/watson-developer-cloud/speech-javascript-sdk"><img src="https://travis-ci.org/watson-developer-cloud/speech-javascript-sdk.svg?branch=master" alt="Build Status"></a>
<a href="https://www.npmjs.com/package/watson-speech"><img src="https://img.shields.io/npm/v/watson-speech.svg" alt="npm-version"></a></p>
<p>Allows you to easily add voice recognition and synthesis to any web app with minimal code. </p>
<p><strong>Warning</strong> This library is still has a few rough edges and may yet see breaking changes.</p>
<h3>For Web Browsers Only</h3><p>This library is primarily intended for use in browsers. 
Check out <a href="https://www.npmjs.com/package/watson-developer-cloud">watson-developer-cloud</a> to use Watson services (speech and others) from Node.js.</p>
<p>However, a server-side component is required to generate auth tokens. 
The examples/ folder includes example Node.js and Python servers, and SDKs are available for <a href="https://github.com/watson-developer-cloud/node-sdk#authorization">Node.js</a>, 
<a href="https://github.com/watson-developer-cloud/java-sdk">Java</a>, 
<a href="https://github.com/watson-developer-cloud/python-sdk/blob/master/examples/authorization_v1.py">Python</a>, 
and there is also a <a href="http://www.ibm.com/smarterplanet/us/en/ibmwatson/developercloud/doc/getting_started/gs-tokens.shtml">REST API</a>.</p>
<h3>Examples</h3><p>See several examples at https://github.com/watson-developer-cloud/speech-javascript-sdk/tree/master/examples</p>
<h3>Installation - npm</h3><p>This library is built with <a href="http://browserify.org/">browserify</a> and easy to use in browserify-based projects :</p>
<pre class="prettyprint source"><code>npm install --save watson-speech</code></pre><h3>Installation - standalone</h3><p>Pre-compiled bundles are also available from on GitHub Releases: https://github.com/watson-developer-cloud/speech-javascript-sdk/releases</p>
<h2>API</h2><p>The basic API is outlined here, see complete API docs at http://watson-developer-cloud.github.io/speech-javascript-sdk/master/</p>
<p>All API methods require an auth token that must be <a href="https://github.com/watson-developer-cloud/node-sdk#authorization">generated server-side</a>. 
(Snp teee examples/token-server.js for a basic example.)</p>
<h2><a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/module-watson-speech_text-to-speech.html"><code>WatsonSpeech.TextToSpeech</code></a></h2><h3><a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/module-watson-speech_text-to-speech_synthesize.html"><code>.synthesize({text, token})</code></a> -&gt; <code>&lt;audio&gt;</code></h3><p>Speaks the supplied text through an automatically-created <code>&lt;audio&gt;</code> element. 
Currently limited to text that can fit within a GET URL (this is particularly an issue on <a href="http://stackoverflow.com/questions/32267442/url-length-limitation-of-microsoft-edge">Internet Explorer before Windows 10</a>
where the max length is around 1000 characters after the token is accounted for.)</p>
<p>Options: </p>
<ul>
<li>text - the text to transcribe // todo: list supported languages</li>
<li>voice - the desired playback voice's name - see .getVoices(). Note that the voices are language-specific.</li>
<li>autoPlay - set to false to prevent the audio from automatically playing</li>
</ul>
<h2><a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/module-watson-speech_speech-to-text.html"><code>WatsonSpeech.SpeechToText</code></a></h2><h3><a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/module-watson-speech_speech-to-text_recognize_microphone.html"><code>.recognizeMicrophone({token})</code></a> -&gt; <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/RecognizeStream.html"><code>RecognizeStream</code></a></h3><p>Options: </p>
<ul>
<li><code>keepMic</code>: if true, preserves the MicrophoneStream for subsequent calls, preventing additional permissions requests in Firefox</li>
<li>Other options passed to <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/RecognizeStream.html">RecognizeStream</a></li>
<li>Other options passed to <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/WritableElementStream.html">WritableElementStream</a> if <code>options.outputElement</code> is set</li>
</ul>
<p>Requires the <code>getUserMedia</code> API, so limited browser compatibility (see http://caniuse.com/#search=getusermedia) 
Also note that Chrome requires https (with a few exceptions for localhost and such) - see https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features</p>
<p>Pipes results through a <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/FormatStream.html">FormatStream</a> by default, set <code>options.format=false</code> to disable.</p>
<p>Known issue: Firefox continues to display a microphone icon in the address bar after recording has ceased. This is a browser bug.</p>
<h3><a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/module-watson-speech_speech-to-text_recognize_file.html"><code>.recognizeFile({data, token})</code></a> -&gt; <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/RecognizeStream.html"><code>RecognizeStream</code></a></h3><p>Can recognize and optionally attempt to play a <a href="https://developer.mozilla.org/en-US/docs/Web/API/File">File</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob">Blob</a>
(such as from an <code>&lt;input type=&quot;file&quot;/&gt;</code> or from an ajax request.)</p>
<p>Options: </p>
<ul>
<li><code>data</code>: a <code>Blob</code> or <code>File</code> instance. </li>
<li><code>play</code>: (optional, default=<code>false</code>) Attempt to also play the file locally while uploading it for transcription </li>
<li>Other options passed to <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/RecognizeStream.html">RecognizeStream</a></li>
<li>Other options passed to <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/WritableElementStream.html">WritableElementStream</a> if <code>options.outputElement</code> is set</li>
</ul>
<p><code>play</code>requires that the browser support the format; most browsers support wav and ogg/opus, but not flac.) 
Will emit a <code>playback-error</code> on the RecognizeStream if playback fails. 
Playback will automatically stop when <code>.stop()</code> is called on the RecognizeStream.</p>
<p>Pipes results through a <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/TimingStream.html">TimingStream</a> by if <code>options.play=true</code>, set <code>options.realtime=false</code> to disable.</p>
<p>Pipes results through a <a href="http://watson-developer-cloud.github.io/speech-javascript-sdk/master/FormatStream.html">FormatStream</a> by default, set <code>options.format=false</code> to disable.</p>
<h2>Changelog</h2><h3>v0.15</h3><ul>
<li>Removed <code>SpeechToText.recognizeElement()</code> due to quality issues</li>
<li>Added <code>options.element</code> to TextToSpeech.synthesize() to support playing through exiting elements</li>
<li>Fixed a couple of bugs in the TimingStream</li>
<li>Added support for STT profanity_filter &amp;  documented keywords and words_alternatives options.</li>
</ul>
<h3>v0.14</h3><ul>
<li>Moved getUserMedia shim to a <a href="https://www.npmjs.com/package/get-user-media-promise">standalone library</a></li>
<li>added a python token server example</li>
</ul>
<h3>v0.13</h3><ul>
<li>Fixed bug where <code>continuous: false</code> didn't close the microphone at end of recognition</li>
<li>Added <code>keepMic</code> option to <code>recognizeMicrophone()</code> to prevent multiple permission popups in firefox</li>
</ul>
<h3>v0.12</h3><ul>
<li>Added <code>autoPlay</code> option to <code>synthesize()</code></li>
<li>Added proper parameter filtering to <code>synthesize()</code></li>
</ul>
<h3>v0.11</h3><ul>
<li>renamed <code>recognizeBlob</code> to <code>recognizeFile</code> to make the primary usage more apparent</li>
<li>Added support for <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> elements when using the <code>targetElement</code> option (or a <code>WritableElementStream</code>)</li>
<li>For objectMode, changed defaults for <code>word_confidence</code> to <code>false</code>, <code>alternatives</code> to <code>1</code>, and <code>timing</code> to off unless required for <code>realtime</code> option. </li>
<li>Fixed bug with calling <code>.promise()</code> on <code>objectMode</code> streams</li>
<li>Fixed bug with calling <code>.promise()</code> on <code>recognizeFile({play: true})</code></li>
</ul>
<h3>v0.10</h3><ul>
<li>Added ability to write text directly to targetElement, updated examples to use this</li>
<li>converted examples from jQuery to vanilla JS (w/ fetch pollyfill when necessary)</li>
<li>significantly improved JSDoc</li>
</ul>
<h3>v0.9</h3><ul>
<li>Added basic text to speech support</li>
</ul>
<h3>v0.8</h3><ul>
<li>deprecated <code>result</code> events in favor of <code>objectMode</code>.</li>
<li>renamed the <code>autoplay</code> option to <code>autoPlay</code> on <code>recognizeElement()</code> (capital P)</li>
</ul>
<h3>v0.7</h3><ul>
<li>Changed <code>playFile</code> option of <code>recognizeBlob()</code> to just <code>play</code>, corrected default</li>
<li>Added <code>options.format=true</code> to <code>recognize*()</code> to pipe text through a FormatStream</li>
<li>Added <code>options.realtime=options.play</code> to <code>recognizeBlob()</code> to automatically pipe results through a TimingStream when playing locally</li>
<li>Added <code>close</code> and <code>end</code> events to TimingStream</li>
<li>Added <code>delay</code> option to <code>TimingStream</code></li>
<li>Moved compiled binary to GitHub Releases (in addition to uncompiled source on npm).</li>
<li>Misc. doc and internal improvements</li>
</ul>
<h2>todo</h2><ul>
<li>Solidify API</li>
<li>break components into standalone npm modules where it makes sense</li>
<li>run integration tests on travis (fall back to offline server for pull requests)</li>
<li>more tests in general</li>
<li>better cross-browser testing (IE, Safari, mobile browsers - maybe saucelabs?)</li>
<li>update node-sdk to use current version of this lib's RecognizeStream (and also provide the FormatStream + anything else that might be handy)</li>
<li>move <code>result</code> and <code>results</code> events to node wrapper (along with the deprecation notice)</li>
<li>improve docs</li>
<li>consider a wrapper to match https://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html</li>
<li>support a &quot;hard&quot; stop that prevents any further data events, even for already uploaded audio, ensure timing stream also implements this.</li>
<li>look for bug where single-word final results may omit word confidence (possibly due to FormatStream?)</li>
<li>fix bug where TimingStream shows words slightly before they're spoken</li>
<li>support jquery objects for element and targetElement</li>
</ul></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-watson-speech.html">watson-speech</a></li><li><a href="module-watson-speech_speech-to-text.html">watson-speech/speech-to-text</a></li><li><a href="module-watson-speech_speech-to-text_recognize-file.html">watson-speech/speech-to-text/recognize-file</a></li><li><a href="module-watson-speech_speech-to-text_recognize-microphone.html">watson-speech/speech-to-text/recognize-microphone</a></li><li><a href="module-watson-speech_text-to-speech.html">watson-speech/text-to-speech</a></li><li><a href="module-watson-speech_text-to-speech_get-voices.html">watson-speech/text-to-speech/get-voices</a></li><li><a href="module-watson-speech_text-to-speech_synthesize.html">watson-speech/text-to-speech/synthesize</a></li></ul><h3>Classes</h3><ul><li><a href="FilePlayer.html">FilePlayer</a></li><li><a href="FormatStream.html">FormatStream</a></li><li><a href="RecognizeStream.html">RecognizeStream</a></li><li><a href="TimingStream.html">TimingStream</a></li><li><a href="WebAudioL16Stream.html">WebAudioL16Stream</a></li><li><a href="WritableElementStream.html">WritableElementStream</a></li></ul><h3>Events</h3><ul><li><a href="RecognizeStream.html#event:close">close</a></li><li><a href="RecognizeStream.html#event:connection-close">connection-close</a></li><li><a href="RecognizeStream.html#event:data">data</a></li><li><a href="RecognizeStream.html#event:error">error</a></li><li><a href="RecognizeStream.html#event:results">results</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getContentTypeFromFile">getContentTypeFromFile</a></li><li><a href="global.html#noTimestamps">noTimestamps</a></li><li><a href="global.html#playFile">playFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Apr 19 2016 19:22:37 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>